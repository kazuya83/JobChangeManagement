<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>転職企業管理アプリ</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
    <div id="loading" class="loading-overlay">
    <div class="spinner"></div>
    </div>

  <header>
    <h1>転職企業管理アプリ</h1>
    <div id="user-info" class="hidden">
      <span id="user-name"></span>
      <button id="logout-btn">ログアウト</button>
    </div>
    <div id="login-area">
      <button id="login-btn">Googleでログイン</button>
    </div>
  </header>

  <main>
    <div id="overlay" class="overlay">
      <div class="overlay-message">
        ログインしてください<br />
        <button id="overlay-login-btn">Googleログイン</button>
      </div>
    </div>

    <section class="actions">
      <button id="open-register-btn">企業登録</button>
      <!-- <button id="open-status-master-btn">選考状況マスタ設定</button> -->
      <select id="filter-status-select">
        <option value="">すべての選考状況</option>
      </select>
    </section>

    <section id="company-list" class="company-list"></section>
  </main>

  <!-- 登録モーダル -->
  <div id="register-modal" class="modal hidden">
    <div class="modal-content">
      <h2>企業登録・編集</h2>
      <form id="register-form">
        <label>企業名 <input name="name" required /></label>
        <label>勤務地 <input name="location" /></label>
        <label>提示年収 <input name="salary" /></label>
        <label>給与range_min <input name="range_min" /></label>
        <label>給与range_max <input name="range_max" /></label>
        <label>ポジション <input name="position" /></label>
        <label>言語 (カンマ区切り) <input name="languages" /></label>
        <label>業務内容 <textarea name="jobDescription"></textarea></label>
        <label>リモート制度 <input name="remotePolicy" /></label>
        <label>フレックス制度 <input name="flexPolicy" /></label>
        <label>選考状況 
          <select name="selectionStatus" required></select>
        </label>
        <label>次回選考日 <input type="date" name="nextSelectionDate" /></label>
        <div class="modal-buttons">
          <button type="submit">登録</button>
          <button type="button" id="register-cancel-btn">キャンセル</button>
        </div>
      </form>
    </div>
  </div>

  <!-- 詳細モーダル -->
  <div id="detail-modal" class="modal hidden">
    <div class="modal-content">
      <h2>企業詳細</h2>
      <div id="detail-content"></div>
      <div class="modal-buttons">
        <button id="detail-edit-btn">編集</button>
        <button id="detail-copy-btn">コピー</button>
        <button id="detail-close-btn">閉じる</button>
      </div>
    </div>
  </div>

  <!-- 選考状況マスタ設定モーダル -->
  <div id="status-master-modal" class="modal hidden">
    <div class="modal-content">
      <h2>選考状況マスタ設定</h2>
      <form id="status-master-form">
        <label>選考状況名 <input name="statusName" class="status-master-name" required /></label>
        <label>色 <input name="color" type="color" class="status-master-color" required /></label>
        <div class="modal-buttons">
          <button type="submit" id="status-master-add-btn">追加</button>
          <button type="button" id="status-master-cancel-btn">閉じる</button>
        </div>
      </form>
      <ul id="status-master-list"></ul>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
